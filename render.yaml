services:
  - type: web
    name: mock-twitter
    runtime: node
    plan: free
    buildCommand: npm ci --prefix server && npm ci --include=dev --prefix client && npm run build --prefix client
    startCommand: NODE_ENV=production npm start
    envVars:
      - key: MONGO_URI
        sync: false
      - key: TWITTER_KEYWORD
        value: javascript
      - key: MOCK_TWITTER
        value: true
      - key: MOCK_MAX_TWEETS
        value: 300
      - key: MOCK_BATCH_SIZE
        value: 10
      - key: MOCK_PRELOAD_MINUTES
        value: 30
      - key: MOCK_MIN_INTERVAL_SECONDS
        value: 10
      - key: MOCK_MAX_INTERVAL_SECONDS
        value: 30